{"version":3,"sources":["../src/index.js"],"names":["Decode","require","Encode","Metadata","module","exports","encoders","decoders","md"],"mappings":"AACA;AACA;;AAEA,MAAMA,MAAM,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,YAAD,CAAxB,C,CAEA;;;AAwEAG,MAAM,CAACC,OAAP,GAAiB;AACfH,EAAAA,MADe;AAEfI,EAAAA,QAAQ,EAAEJ,MAFK;AAGfF,EAAAA,MAHe;AAIfO,EAAAA,QAAQ,EAAEP,MAJK;AAKfG,EAAAA,QALe;AAMfK,EAAAA,EAAE,EAAEL;AANW,CAAjB","sourcesContent":["// @flow\n// @format\n'use strict';\n\nconst Decode = require('./decode');\nconst Encode = require('./encode');\nconst Metadata = require('./metadata');\n\n// This is a helper type used in a few places\nexport type attributes = { [key: string]: string };\n\n// This is the most simplistic strongly typed metadata you'll find\nexport type SimpleMetadata = {\n  artist: string,\n  album: string,\n  year?: string,\n  track: string,\n  title: string,\n  compilation?: 'va' | 'ost'\n};\n\n// This is a more robust metadata type, meant to be used in,\n// among other scenarios, situations where you're moving files around\nexport type FullMetadata = {\n  OriginalPath: string,\n  Artist: string,\n  Album: string,\n  Year?: number,\n  Track: number,\n  Title: string,\n  VAType?: 'va' | 'ost',\n  MoreArtists?: Array<string>,\n  Mix?: Array<string>,\n  Disk?: number,\n  DiskOf?: number\n};\n\n// This is a general mechanism for describing how to extract\n// various metadata components out of a file path\nexport type regexPattern = {\n  // This can be something like \"soundtrack\"\n  // or \"true/false\" to simply indicate that it's\n  // a compilation of works by various artists\n  compilation?: string | boolean,\n  // This is the regular expression to match\n  rgx: RegExp,\n  // These are the names of the metadata fields\n  // and their corresponding RegExp capture numbers\n  metadata: { [key: string]: number }\n};\n\n// A function type for metadata acquisition\nexport type mdAcquire = (pathname: string) => ?SimpleMetadata;\n\n// Same thing, but async...\nexport type mdAcquireAsync = (pathname: string) => Promise<?SimpleMetadata>\n\n// A function type for decoding audio\nexport type decoder = (inputFile: string, outputFile: string) => boolean;\n\n// Ditto, async\nexport type decoderAsync =  (inputFile: string, outputFile: string) => Promise<boolean>;\n\n// A function type for encoding audio\nexport type encoder = (\n  wavFile: string,\n  outputFilename: string,\n  options: ?attributes,\n  attrs: ?attributes\n) => boolean;\n\n// Ditto, async\nexport type encoderAsync = (\n  wavFile: string,\n  outputFilename: string,\n  options: ?attributes,\n  attrs: ?attributes\n) => Promise<boolean>;\n\n\nmodule.exports = {\n  Encode,\n  encoders: Encode,\n  Decode,\n  decoders: Decode,\n  Metadata,\n  md: Metadata\n};\n"],"file":"index.js"}